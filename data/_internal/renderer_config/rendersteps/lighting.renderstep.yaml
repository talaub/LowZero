
type: compute
resources:
    out_image:
        dimensions:
            type: relative
            target: renderflow
            multiplier: 1.0
        type: image
        format: RGBA8_UNORM
        array_size: 1
output_image: out_image
pipelines:
  - name: calculate_lighting
    description: calculates the lighting of the current scene
    shader: lighting.comp
    dimensions:
      type: relative
      target: renderflow
      multiplier: 0.065
    resource_bindings:
      renderflow:DeferredLit: image
      renderflow:GBufferAlbedo: sampler
      renderflow:GBufferSurfaceNormals: sampler
      renderflow:GBufferNormals: sampler
      renderflow:GBufferBentNormals: sampler
      renderflow:GBufferRoughness: sampler
      renderflow:GBufferMetalness: sampler
      renderflow:GBufferDepth: sampler
      renderflow:ShadowAtlas: sampler
      renderflow:EntityIndexMap: texture2d
      renderflow:EntityIndexMap: unbound_sampler
      renderflow:IdWritebackBuffer: buffer
      renderflow:HoverCoordinatesBuffer: buffer
