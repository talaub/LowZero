resources:
  GBufferAlbedo:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: RGBA8_UNORM
    array_size: 1
  GBufferSurfaceNormals:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: RGBA8_UNORM
    array_size: 1
  GBufferNormals:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: RGBA8_UNORM
    array_size: 1
  GBufferMetalness:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: R8_UNORM
    array_size: 1
  GBufferRoughness:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: R8_UNORM
    array_size: 1
  GBufferDepth:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: D32_SFLOAT
    array_size: 1
    depth: true
  DeferredLit:
    dimensions:
      type: relative
      target: renderflow
      multiplier: 1.0
    type: image
    format: RGBA8_UNORM
    array_size: 1
  ShadowAtlas:
    dimensions:
      type: absolute
      x: 1024
      y: 1024
    type: image
    format: D32_SFLOAT
    array_size: 1
    depth: true
    
output_image: DeferredLit
steps:
  - name: depthprepass
  - name: graph
  - name: ShadowPass
  - name: lighting
